---
import Button from '../ui/Button.astro';
import Card from '../ui/Card.astro';
import Prompt from '../terminal/Prompt.astro';

interface Props {
  projects: any[];
}

const { projects } = Astro.props;
---

<section class="py-24">
  <div class="container mx-auto px-6">
    <!-- Section header -->
    <div class="mb-12 animate-on-scroll">
      <Prompt path="~/projects" command="ls -la" />
      <h2 class="font-[var(--font-display)] text-4xl font-bold text-gray-100 mt-4">
        Side <span class="text-[var(--color-terminal-purple)]">Projects</span>
      </h2>
    </div>

    <!-- Projects grid -->
    <div class="grid md:grid-cols-2 gap-8">
      {projects.slice(0, 4).map((project, i) => (
        <div class="animate-on-scroll" style={`animation-delay: ${i * 0.1}s;`}>
          <Card href={project.data.link || `/projects/${project.slug}`}>
            <div class="p-6">
              <!-- Project icon/emoji -->
              {project.data.emoji && (
                <span class="text-4xl mb-4 block">{project.data.emoji}</span>
              )}

              <!-- Title -->
              <h3 class="font-[var(--font-display)] text-xl font-bold text-gray-100 mb-2 group-hover:text-[var(--color-terminal-green)] transition-colors">
                {project.data.title}
              </h3>

              <!-- Description -->
              <p class="text-gray-400 text-sm mb-4">{project.data.description}</p>

              <!-- Tags -->
              {project.data.tags && (
                <div class="flex flex-wrap gap-2">
                  {project.data.tags.slice(0, 3).map((tag: string) => (
                    <span class="font-[var(--font-mono)] text-xs px-2 py-1 bg-[var(--color-dark-600)] text-[var(--color-terminal-cyan)] rounded">
                      {tag}
                    </span>
                  ))}
                </div>
              )}
            </div>
          </Card>
        </div>
      ))}
    </div>

    <div class="text-center mt-12 animate-on-scroll">
      <Button href="/projects" variant="terminal">
        <span class="text-[var(--color-terminal-purple)]">$</span> ls -la --all
      </Button>
    </div>
  </div>
</section>
